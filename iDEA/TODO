 * remove reliance on global variables in all codes
